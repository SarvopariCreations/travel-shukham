<app-header></app-header>
<div class="ts-cruise-bg d-none d-sm-flex">
  <img src="../../../assets/hotel-bg.jpg" alt="">
</div>
<div class="container py-4 white-bg z-1 position-relative top-70 d-none d-sm-flex">
    <div class="row">
        <div class="col-sm-3">
            <app-filter [filterData]="flightFilterData"></app-filter>
        </div>
        <div class="col-sm-9">
            <div class="d-flex flex-row justify-content-between w-100 ts-hotel-search-map">
                <h5 class="mb-3 mb-sm-4 text-white fw-medium fw-sm-bold">Showing 65 offers</h5>
                <div class="d-flex flex-row gap-2 gap-sm-3">
                    <div class="recommand-selection">
                        <div class="dropdown">
                            <button class="dropdown-toggle" type="button" id="dropdownMenuButton"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                Short: Recommended
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <li><a class="dropdown-item" href="#">Recommended</a></li>
                                <li><a class="dropdown-item" href="#">Latest</a></li>
                                <li><a class="dropdown-item" href="#">Ending soon</a></li>
                                <li><a class="dropdown-item" href="#">Most inclusions</a></li>
                                <li><a class="dropdown-item" href="#">Best Value</a></li>
                                <li><a class="dropdown-item" href="#">Price (Lowest)</a></li>
                                <li><a class="dropdown-item" href="#">Price (Highest)</a></li>
                                <li><a class="dropdown-item" href="#">Customer Rating (Highest)</a></li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <button class="view-map" routerLink="/search-map"><span class="material-symbols-outlined">
                                map
                            </span> View Map</button>
                    </div>
                    <!-- Filter Button for Mobile Devices -->
                    <div class="d-flex d-sm-none filter-button ms-auto">
                      <button type="button" data-bs-toggle="modal" data-bs-target="#filterModal">
                        <span class="material-symbols-outlined">
                          tune
                        </span>
                      </button>
                    </div>
                </div>
            </div>


            <div class="list-of-package" *ngFor="let pkg of packages">
                <div class="img-slide">
                  <app-slider [images]="imageSet3" [className]="class"></app-slider>
                </div>
                <div class="place-detail">
                  <div class="hotel-logo">
                    <img [src]="pkg.hotelLogo" alt="Hotel Logo">
                  </div>
                  <h4>{{ pkg.title }}</h4>
                  <p>{{ pkg.description }}</p>
                  <div class="rating-start mt-3 text-center">
                    <span>{{ pkg.rating }}</span>
                    Very good <a href="#">{{ pkg.reviews }} reviews</a>
                  </div>
                  <div class="d-flex align-items-center justify-content-center">
                    <div class="offer-price">
                      <label class="durations- d-flex align-items-center w-100 justify-content-center">
                        {{ pkg.nights }} nights from
                      </label>
                      <span class="approx-price">
                        <strong>₹{{ pkg.pricePerNight }}</strong>
                        <label>/night</label>
                      </span>
                      <span class="room-capacity">{{ pkg.roomType }}</span>
                      <div class="value-offer">
                        Valued up to ₹{{ pkg.valuedPrice }} 
                        <span class="discount-offer">-{{ pkg.discount }}%</span>
                      </div>
                    </div>
                  </div>
                  <button class="view-offer-btn mt-3 m-auto" routerLink="/hotel-detail">View Offer</button>
                </div>
              </div>           
        </div>
    </div>
</div>

<!--Mobile-view-->
<div class="ts-m-hotelsearch-section top-70">
  <div class="ts-back-home" routerLink="/">
    <span class="material-symbols-outlined">
      arrow_back
      </span> Hotels
  </div>
  <div class="ts-hotel-search-map-row">
     <div class="search-input-here-row" data-bs-toggle="modal" data-bs-target="#whereToModal">
       <label>Where to?</label>        
       <p>Search for Hotel</p>
     </div>
     <div class="ts-hotel-choose-date">        
       <div class="d-flex flex-column" data-bs-toggle="modal" data-bs-target="#checkInModal">
         <label>Check-in</label>
         <span class="fw-semibold">Mon, 20 Sep</span>
       </div>
       <div class="selected-date">2 Night</div>
       <div class="d-flex flex-column" data-bs-toggle="modal" data-bs-target="#checkOutModal">
         <label>Check-out</label>
         <span class="fw-semibold">Mon, 21 Sep</span>
       </div>        
     </div>
     <div class="ts-selected-room" data-bs-toggle="modal" data-bs-target="#roomGuestsModal">
       <label>Room & guests</label>
       <p>1 Room, 2 Adults</p>
     </div>
     <div class="">
       <button class="ts-search-btn">Search</button>
     </div>
  </div> 
</div>


<div class="ts-list-of-hotel-row">
  <h4>Showing property in Ahemdabad</h4>
  <div class="ts-hotel-list">
    <div class="ts-hotel-list-item" *ngFor="let hotel of hotels" routerLink="/hotel-detail">
      <div class="ts-hotel-list-img">
        <img [src]="hotel.imgSrc" alt="">
      </div>
      <div class="ts-hotel-list-detail">
        <h5 class="mb-0">{{ hotel.name }}</h5>
        <p>{{ hotel.location }}</p>
        <div class="ts-hotel-rating">
          <span class="count-rating">{{ hotel.rating }}</span>
          <span class="title">Very good</span>
          <a href="#" class="total-review">({{ hotel.reviewCount }} reviews)</a>
        </div>
        <div class="ts-hotel-price">
          <span class="price">₹ {{ hotel.price }}</span>
          <span class="per-head">+ ₹{{ hotel.taxesAndFees }} taxes & fees / night</span>
        </div>        
      </div>
    </div>
  </div>
</div>


<div class="m-budget-offer-categories mobile-view">
  <ul class="tab-selction">
      <li (click)="onTabClick('offer')" [class.active]="activeTab === 'offer'">Package</li>
      <li (click)="onTabClick('budget')" [class.active]="activeTab === 'budget'">Budget</li>
  </ul>
  <div class="tab-section-preview">
      <div *ngIf="activeTab === 'offer'" class="tab-first">
          <ul>
              <li>
                  <a target="_blank" class="w-100 offer-me">
                      <img src="../../../assets/offer-img.avif" alt="Advertisement Image"
                          class="advertisement-image img-fluid rounded-4" />
                  </a>
              </li>
              <li>
                  <a target="_blank" class="w-100 offer-me">
                      <img src="../../../assets/offer-img1.avif" alt="Advertisement Image"
                          class="advertisement-image img-fluid rounded-4" />
                  </a>
              </li>

              <li>
                  <a target="_blank" class="w-100 offer-me">
                      <img src="../../../assets/offer-img.avif" alt="Advertisement Image"
                          class="advertisement-image img-fluid rounded-4" />
                  </a>
              </li>
              <li>
                  <a target="_blank" class="w-100 offer-me">
                      <img src="../../../assets/offer-img1.avif" alt="Advertisement Image"
                          class="advertisement-image img-fluid rounded-4" />
                  </a>
              </li>

          </ul>
      </div>
      <div *ngIf="activeTab === 'budget'" class="tab-first pe-0">
          <app-budget-category></app-budget-category>
      </div>
  </div>
</div>


<div class="w-100 ts-footer-wrapper">
  <app-footer></app-footer>
</div>


<!-- Modals -->
<div class="modal fade" id="whereToModal" tabindex="-1" aria-labelledby="whereToModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="whereToModalLabel">
          <span class="material-symbols-outlined" data-bs-dismiss="modal" aria-label="Close">
          arrow_back
          </span> Where to?</h5>        
      </div>
      <div class="modal-body">
        <!-- Sticky search input -->
        <div class="sticky-top bg-white ">
          <input type="text" class="form-control" placeholder="Search for a city..." [(ngModel)]="searchQuery">
        </div>
        <!-- List of cities -->
        <div class="list-group">
          <a *ngFor="let city of filteredCities()" href="#" class="list-group-item list-group-item-action d-flex align-items-center">
            <img [src]="city.image" alt="{{ city.name }}" class="me-3 rounded-circle" style="width:40px; height:40px;">
            <span class="city-name">{{ city.name }}</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="checkInModal" tabindex="-1" aria-labelledby="checkInModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="checkInModalLabel"><span class="material-symbols-outlined" data-bs-dismiss="modal" aria-label="Close">
          arrow_back
          </span> Check-in</h5>        
      </div>
      <div class="modal-body">
        <!-- Content for Check-in -->
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="checkOutModal" tabindex="-1" aria-labelledby="checkOutModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="checkOutModalLabel">
          <span class="material-symbols-outlined" data-bs-dismiss="modal" aria-label="Close">
          arrow_back
          </span> Check-out</h5>
      </div>
      <div class="modal-body">

      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="roomGuestsModal" tabindex="-1" aria-labelledby="roomGuestsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="roomGuestsModalLabel"><span class="material-symbols-outlined" data-bs-dismiss="modal" aria-label="Close">
          arrow_back
          </span> Room & guests</h5>
      </div>
      <div class="modal-body">
      
        <div *ngFor="let room of rooms; let i = index" class="select-room-with-guests">
          <div class="room-label">
            Room {{ i + 1 }}
          </div>
          <div class="choose-adult-children">
            <div class="choose-adults">
              <div class="d-flex flex-column">
                <span>Adults</span>
                <label>12+ Years</label>
              </div>
              <div class="choose-quantative">
                <span>-</span>
                2
                <span>+</span>
              </div>
            </div>
            <div class="children-adults">
              <div class="d-flex flex-column">
                <span>Children</span>
                <label>0-11 Years</label>
              </div>
              <div class="choose-quantative">
                <span>-</span>
                0
                <span>+</span>
              </div>
            </div>
            <button *ngIf="rooms.length > 1" class="remove-room" (click)="removeRoom(i)"><span
                class="material-symbols-outlined">
                close
              </span></button>
          </div>
        </div>

    <button class="add-another-room mt-4" (click)="addRoom()">
        <span class="material-symbols-outlined">add</span> Add Another room
    </button>

      </div>
    </div>
  </div>
</div>

<!--Mobile Modal Structure -->
<div class="modal fade" id="filterModal" tabindex="-1" aria-labelledby="filterModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="filterModalLabel">Filter Options</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <app-filter [filterData]="flightFilterData"></app-filter>
      </div>
    </div>
  </div>
</div>